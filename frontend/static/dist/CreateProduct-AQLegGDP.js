import{u as h,j as t,L as x}from"./main-BGwq8l6c.js";function j({errors:i,title:s,description:o}){const{data:a,setData:d,post:m,errors:l,processing:n}=h({title:s||"",description:o||""}),p=e=>{e.preventDefault();const c=new FormData;c.append("title",a.title),c.append("description",a.description),console.log("Form data before submit:",{title:a.title,description:a.description}),m("/products/create/",{data:c,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{console.log("Product created successfully")},onError:u=>{console.error("Form submission errors:",u)}})};return t.jsx("div",{className:"container py-5",children:t.jsx("div",{className:"row justify-content-center",children:t.jsx("div",{className:"col-md-8 col-lg-6",children:t.jsxs("div",{className:"card shadow-sm",children:[t.jsx("div",{className:"card-header bg-success text-white",children:t.jsx("h1",{className:"h4 mb-0",children:"Добавить новый товар"})}),t.jsx("div",{className:"card-body",children:t.jsxs("form",{onSubmit:p,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"title",className:"form-label",children:"Название товара"}),t.jsx("input",{type:"text",className:`form-control ${l.title||i!=null&&i.title?"is-invalid":""}`,id:"title",name:"title",value:a.title,onChange:e=>d("title",e.target.value),placeholder:"Введите название",required:!0}),(l.title||(i==null?void 0:i.title))&&t.jsx("div",{className:"invalid-feedback",children:l.title||(i==null?void 0:i.title)})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"description",className:"form-label",children:"Описание"}),t.jsx("textarea",{className:`form-control ${l.description||i!=null&&i.description?"is-invalid":""}`,id:"description",name:"description",value:a.description,onChange:e=>d("description",e.target.value),placeholder:"Введите описание",rows:5}),(l.description||(i==null?void 0:i.description))&&t.jsx("div",{className:"invalid-feedback",children:l.description||(i==null?void 0:i.description)})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("button",{type:"submit",className:"btn btn-success",disabled:n,children:[t.jsx("i",{className:"bi bi-plus-circle me-2"}),n?"Создание...":"Создать товар"]}),t.jsxs(x,{href:"/products/",className:"btn btn-outline-secondary",children:[t.jsx("i",{className:"bi bi-arrow-left me-2"}),"К списку товаров"]})]})]})})]})})})})}export{j as default};
